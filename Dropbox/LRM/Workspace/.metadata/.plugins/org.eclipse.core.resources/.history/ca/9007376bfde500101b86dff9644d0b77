/******************************************************************************
/ * API SRV-1Q
/ *
/ * USP->ICMC->LRM
/ * pessin@gmail.com
/ *****************************************************************************/

#ifndef SRV_H_
#define SRV_H_

#include <SFML/Network.hpp>
#include <boost/signals2/mutex.hpp>

class SRV
{
	private:
		boost::signals2::mutex mutex;
		unsigned short Port;
		sf::IPAddress Address;
		sf::SocketTCP Client;
		int IndiceNomeImagem;
		bool ableToRun;

	public:		

		SRV(sf::IPAddress _Address, unsigned short _Port);
		int ativaLaser();
		int desativaLaser();
		int getDistanceCamera();
		int ativaMotor(int pforca_e, int pforca_d, int ptempo);
		char *enviaComando(char *comando);
		char *enviaComando(char *comando, int p1);
		char *enviaComando(char *comando, int p1, int p2);
		void turnLeft();
		void turnRight();
		void driftLeft();
		void driftRight();
		void moveForward();
		void moveBack();
		char* getImage(int *tamanhoImg, int grava);
		float getSonar();
		bool isAbleToRun();
		void setAbleToRun(bool a);
};

#endif /*SRV_H_*/
